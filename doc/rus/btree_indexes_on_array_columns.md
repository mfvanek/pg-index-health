# Проверка b-tree индексов на столбцах, содержащих массив значений

## Как работает b-tree индекс на столбцах с массивом значений
b-tree индекс на таких столбцах эффективен, если надо сравнивать массивы целиком, т.к. он [работает в условиях на равенство](https://postgrespro.ru/docs/postgresql/17/gin). Если надо проверять вхождение элементов в массив, то он уже не подойдет.

## Почему больше подойдет индекс типа GIN
Индекс GIN реализован как B-дерево, построенное по ключам - элементам массива, [подробнее в документации](https://postgrespro.ru/docs/postgresql/17/gin). Поэтому он подойдет, если потребуется сравнивать эелементы массива в столбцах типа array.
## Как работает эта проверка
При вызове метода класса этой проверки doCheck выполняется sql-запрос [sql](https://github.com/mfvanek/pg-index-health-sql/blob/master/sql/btree_indexes_on_array_columns.sql).
Работает для статического анализа.
Не подходит для секционированных таблиц.
