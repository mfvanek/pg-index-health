# Проверка внешних ключей, у которых есть расхождения в типах столбцов

## Почему типы столбцов у внешних ключей должны совпадать

Типы колонок в ссылающемся и целевом отношении должны совпадать.
Колонка с типом `integer` должна ссылаться на колонку с типом `integer`.
Это исключает лишние конвертации на уровне СУБД и в коде приложения, снижает количество ошибок,
которые могут появляться из-за несоответствия типов в будущем.

Можно возразить, достаточно, чтобы в ссылающемся отношении типы колонок были совместимы и не меньше, чем в целевом отношении.
Например, колонка с типом `bigint` может ссылаться на колонку с типом `integer`.
**Так делать не следует**.
Необходимо учитывать, что разные типы будут попадать в код приложения, особенно при автоматической генерации моделей.

## SQL запрос

- [foreign_keys_with_unmatched_column_type.sql](https://github.com/mfvanek/pg-index-health-sql/blob/master/sql/foreign_keys_with_unmatched_column_type.sql)

## Тип проверки

- **static** (может выполняться на пустой БД в компонентных\интеграционных тестах)

## Поддержка секционированных таблиц

Поддерживает секционированные таблицы.
Проверка выполняется на самой секционированной таблице (родительской). Отдельные секции (потомки) игнорируются.

## Скрипт для воспроизведения

TODO
