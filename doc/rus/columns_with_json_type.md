# Проверка наличия столбцов с типом json в таблицах

## Как хранить json в таблице с PostgreSQL
Для хранения данных в json-формате в PostgreSQL есть два типа json и jsonb. Первый тип хранит точную копию записанного теста, второй - json-данные в двоичном формате.

## Почему лучше jsonb-тип 
В документации [прямо говорится](https://postgrespro.ru/docs/postgresql/17/datatype-json), что jsonb предпочтительнее. jsonb поддерживает ограничения и индексы, что дает возможность выполнять поиск по таким данным быстрее. Только вставка данных в тип jsonb будет медленнее, чем в json из-за того, что их надо преобразовать в двоичный формат.
## Как работает эта проверка
При вызове метода класса этой проверки doCheck выполняется sql-запрос [sql](https://github.com/mfvanek/pg-index-health-sql/blob/master/sql/columns_with_json_type.sql).
Работает для статического анализа.
Не подходит для секционированных таблиц.
