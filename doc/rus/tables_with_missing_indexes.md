# Проверка таблиц на нехватку индексов

## Как понять, что нужен индекс
Представление pg_stat_all_tables [содержит статистику по обращениям к таблицам](https://postgrespro.ru/docs/postgrespro/17/monitoring-stats#MONITORING-PG-STAT-ALL-TABLES-VIEW). Отсюда можно получить данные о том, насколько часто используется последовательное сканирование и поиск с помощью индексов.
Если таблица часто сканируется последовательно, то стоит добавить индексы для соответствующих столбцов.

## Почему надо следить за использованием индексов
Если статистика показывает много запросов с последовательным сканированием таблицы, то добавление индекса ускорит поиск. Если индекс не используется, то он бесполезно занимает место на диске.

## Как работает эта проверка
При вызове метода класса этой проверки doCheck выполняется sql-запрос [sql](https://github.com/mfvanek/pg-index-health-sql/blob/master/sql/tables_with_missing_indexes.sql).
Работает в runtime-варианте на работающем инстансе базы данных.
Подходит для секционированных таблиц.
