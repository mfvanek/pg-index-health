# Проверка дублирующихся индексов в таблицах

## Почему индекс может продублироваться
Индекс на первичный ключ и индексы на ограничения уникальности создаются [автоматически](https://postgrespro.ru/docs/postgresql/17/indexes-unique). Если они были созданы еще и вручную, то [получаются дубликаты]
(https://postgrespro.ru/docs/postgresql/17/sql-createindex), т.к. создаваемые индексы не соотносятся с теми, которые уже есть.

## Почему надо избавляться от дублирующихся индексов
При изменении данных обновляется [каждый индекс](https://postgrespro.ru/docs/postgresql/17/btree), т.е. дубликаты снижают производительность. 

## Как работает эта проверка
При вызове метода класса этой проверки doCheck выполняется sql-запрос [sql](https://github.com/mfvanek/pg-index-health-sql/blob/master/sql/duplicated_indexes.sql).
Работает для статического анализа.
Не подходит для секционированных таблиц.
