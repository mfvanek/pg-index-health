# Проверка наличия неиспользуемых индексов в таблицах

## Как появляются неиспользуемые индексы

PostgreSQL может никогда не использовать некоторые индексы.

Причин у этого может быть много:
* наличие аналогичных индексов (дублирующихся или пересекающихся)
* малый размер таблицы
* низкая селективность индекса и другие.

## Почему нужно избавляться от неиспользуемых индексов

При изменении данных обновляется [каждый индекс](https://postgrespro.ru/docs/postgresql/17/btree), таким образом лишние индексы снижают производительность.
Так же каждый индекс занимает место на диске.

## SQL запрос

- [unused_indexes.sql](https://github.com/mfvanek/pg-index-health-sql/blob/master/sql/unused_indexes.sql)

## Тип проверки

- **runtime** (требует наличия накопленной статистики)

В кластере БД проверка должна выполняться на каждом хосте.

## Поддержка секционированных таблиц

Поддерживает секционированные таблицы. Проверка выполняется на каждой секции.
