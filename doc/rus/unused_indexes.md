# Проверка неиспользующихся индексов в таблицах

## Как появляются неиспользующиеся индексы
Если используется конфигк=урация базы данных с несколькими репликами, то запросы на разных хостах отличаются. Это может привести к тому, что в некоторых таблицах не используются определенные индексы. Это можно обнаружить при сборе статистики. 

## Почему нужно избавляться от неиспользующихся индексов
При изменении данных обновляется [каждый индекс](https://postgrespro.ru/docs/postgresql/17/btree), т.е. дубликаты снижают производительность.

## Как работает эта проверка
При вызове метода класса этой проверки doCheck выполняется sql-запрос [sql](https://github.com/mfvanek/pg-index-health-sql/blob/master/sql/unused_indexes.sql).
Имеет смысл проводить для runtime варианта на работающем инстансе базы данных.
Не подходит для секционированных таблиц.
